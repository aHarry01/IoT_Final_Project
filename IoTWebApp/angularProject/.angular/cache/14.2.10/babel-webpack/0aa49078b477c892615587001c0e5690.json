{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ExportToCsv } from 'export-to-csv';\nlet SensordataComponent = class SensordataComponent {\n  constructor(http, sensorService) {\n    this.http = http;\n    this.sensorService = sensorService; //dtOptions: DataTables.Settings = {};\n\n    this.dtOptions = {};\n    this.displayTable = false;\n    this.Alldatah = [{\n      Sensor,\n      ID: '',\n      SensorName: '',\n      DateCollected: '',\n      TimeCollected: '',\n      Data: ''\n    }];\n    this.Alldatal = [{\n      Sensor,\n      ID: '',\n      SensorName: '',\n      DateCollected: '',\n      TimeCollected: '',\n      Data: ''\n    }];\n    this.Alldatam = [{\n      SensorID: '',\n      SensorName: '',\n      DateCollected: '',\n      TimeCollected: '',\n      Data: ''\n    }];\n    this.Alldatat = [{\n      SensorID: '',\n      SensorName: '',\n      DateCollected: '',\n      TimeCollected: '',\n      Data: ''\n    }];\n  }\n\n  ngOnInit() {\n    this.retrieveHumidityData();\n    this.retrieveLightData();\n    this.retrieveMoistureData();\n    this.retrieveTemperatureData();\n    this.dtOptions = {\n      pagingType: 'full_numbers',\n      processing: true,\n      search: {\n        return: true\n      }\n    };\n  }\n\n  retrieveHumidityData() {\n    this.sensorService.getAllHumidity().subscribe({\n      next: datah => {\n        this.Hsensor = datah;\n        this.Alldatah = datah;\n        console.log(datah);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  retrieveLightData() {\n    this.sensorService.getAllLight().subscribe({\n      next: datal => {\n        this.Lsensor = datal;\n        this.Alldatal = datal;\n        console.log(datal);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  retrieveMoistureData() {\n    this.sensorService.getAllMoisture().subscribe({\n      next: datam => {\n        this.Msensor = datam;\n        this.Alldatam = datam;\n        console.log(datam);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  retrieveTemperatureData() {\n    this.sensorService.getAllTemperature().subscribe({\n      next: datat => {\n        this.Tsensor = datat;\n        this.Alldatat = datat;\n        console.log(datat);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  ExportCSV() {\n    const options = {\n      fieldSeparator: ',',\n      quoteStrings: '\"',\n      decimalSeparator: '.',\n      showLabels: true,\n      showTitle: true,\n      title: 'Sensor Data',\n      useTextFile: false,\n      useBom: true,\n      useKeysAsHeaders: true\n    };\n    const csvExporter = new ExportToCsv(options);\n    csvExporter.generateCsv(this.Alldatah);\n    csvExporter.generateCsv(this.Alldatal);\n    csvExporter.generateCsv(this.Alldatat);\n    csvExporter.generateCsv(this.Alldatam);\n  }\n\n};\nSensordataComponent = __decorate([Component({\n  selector: 'app-sensordata',\n  templateUrl: './sensordata.component.html',\n  styleUrls: ['./sensordata.component.css']\n})], SensordataComponent);\nexport { SensordataComponent };","map":null,"metadata":{},"sourceType":"module"}