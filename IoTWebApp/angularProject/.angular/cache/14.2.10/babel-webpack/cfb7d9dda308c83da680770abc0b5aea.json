{"ast":null,"code":"import { ExportToCsv } from 'export-to-csv';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/Services/sensor.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-datatables\";\nimport * as i5 from \"../navigation/navigation.component\";\n\nfunction SensordataComponent_div_13_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const hsensordata_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hsensordata_r5.SensorID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hsensordata_r5.TimeCollected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", hsensordata_r5.Data.$numberDecimal, \" %\");\n  }\n}\n\nfunction SensordataComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"table\", 10)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Sensor Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Time Collected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, SensordataComponent_div_13_tr_11_Template, 7, 3, \"tr\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r0.dtOptions);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.Hsensor);\n  }\n}\n\nfunction SensordataComponent_div_19_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const lsensordata_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(lsensordata_r7.SensorID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(lsensordata_r7.TimeCollected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", lsensordata_r7.Data.$numberDecimal, \" %\");\n  }\n}\n\nfunction SensordataComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"table\", 10)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Sensor Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Time Collected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, SensordataComponent_div_19_tr_11_Template, 7, 3, \"tr\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r1.dtOptions);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.Lsensor);\n  }\n}\n\nfunction SensordataComponent_div_26_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const msensordata_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(msensordata_r9.SensorID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(msensordata_r9.TimeCollected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", msensordata_r9.Data.$numberDecimal, \" %\");\n  }\n}\n\nfunction SensordataComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"table\", 10)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Sensor Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Time Collected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, SensordataComponent_div_26_tr_11_Template, 7, 3, \"tr\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r2.dtOptions);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.Msensor);\n  }\n}\n\nfunction SensordataComponent_div_32_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const tsensordata_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tsensordata_r11.SensorID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tsensordata_r11.TimeCollected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", tsensordata_r11.Data.$numberDecimal, \" C\");\n  }\n}\n\nfunction SensordataComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"table\", 10)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Sensor Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Time Collected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, SensordataComponent_div_32_tr_11_Template, 7, 3, \"tr\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dtOptions\", ctx_r3.dtOptions);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.Tsensor);\n  }\n}\n\nexport let SensordataComponent = /*#__PURE__*/(() => {\n  class SensordataComponent {\n    constructor(http, sensorService) {\n      this.http = http;\n      this.sensorService = sensorService; //dtOptions: DataTables.Settings = {};\n\n      this.dtOptions = {};\n      this.displayTable = false;\n      this.Alldatah = [{\n        SensorID: '',\n        SensorName: '',\n        DateCollected: '',\n        TimeCollected: '',\n        Data: ''\n      }];\n      this.Alldatal = [{\n        SensorID: '',\n        SensorName: '',\n        DateCollected: '',\n        TimeCollected: '',\n        Data: ''\n      }];\n      this.Alldatam = [{\n        SensorID: '',\n        SensorName: '',\n        DateCollected: '',\n        TimeCollected: '',\n        Data: ''\n      }];\n      this.Alldatat = [{\n        SensorID: '',\n        SensorName: '',\n        DateCollected: '',\n        TimeCollected: '',\n        Data: ''\n      }];\n    }\n\n    ngOnInit() {\n      this.retrieveHumidityData();\n      this.retrieveLightData();\n      this.retrieveMoistureData();\n      this.retrieveTemperatureData();\n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        processing: true,\n        search: {\n          return: true\n        }\n      };\n    }\n\n    retrieveHumidityData() {\n      this.sensorService.getAllHumidity().subscribe({\n        next: datah => {\n          this.Hsensor = datah;\n          this.Alldatah = datah;\n          console.log(datah);\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    retrieveLightData() {\n      this.sensorService.getAllLight().subscribe({\n        next: datal => {\n          this.Lsensor = datal;\n          this.Alldatal = datal;\n          console.log(datal);\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    retrieveMoistureData() {\n      this.sensorService.getAllMoisture().subscribe({\n        next: datam => {\n          this.Msensor = datam;\n          this.Alldatam = datam;\n          console.log(datam);\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    retrieveTemperatureData() {\n      this.sensorService.getAllTemperature().subscribe({\n        next: datat => {\n          this.Tsensor = datat;\n          this.Alldatat = datat;\n          console.log(datat);\n          this.displayTable = true;\n        },\n        error: e => console.error(e)\n      });\n    }\n\n    ExportCSV() {\n      const options = {\n        fieldSeparator: ',',\n        quoteStrings: '\"',\n        decimalSeparator: '.',\n        showLabels: true,\n        showTitle: true,\n        title: 'Sensor Data',\n        useTextFile: false,\n        useBom: true,\n        useKeysAsHeaders: true\n      };\n      const csvExporter = new ExportToCsv(options);\n      csvExporter.generateCsv(this.Alldatah);\n      csvExporter.generateCsv(this.Alldatal);\n      csvExporter.generateCsv(this.Alldatat);\n      csvExporter.generateCsv(this.Alldatam);\n    }\n\n  }\n\n  SensordataComponent.ɵfac = function SensordataComponent_Factory(t) {\n    return new (t || SensordataComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.SensorService));\n  };\n\n  SensordataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SensordataComponent,\n    selectors: [[\"app-sensordata\"]],\n    decls: 33,\n    vars: 4,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [1, \"container\"], [1, \"row\"], [1, \"col-6\"], [1, \"SensorDataTitles\"], [\"id\", \"CSVButton\"], [\"id\", \"SensorTableDiv\", 4, \"ngIf\"], [\"id\", \"SensorTableDiv\"], [\"id\", \"SensorTable\", \"datatable\", \"\", 1, \"row-border\", \"hover\", 3, \"dtOptions\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function SensordataComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"body\");\n        i0.ɵɵelement(5, \"app-navigation\");\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5)(9, \"h1\", 6);\n        i0.ɵɵtext(10, \"Humidity Data:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 7);\n        i0.ɵɵtext(12, \"Export to CSV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, SensordataComponent_div_13_Template, 12, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 5)(15, \"h1\", 6);\n        i0.ɵɵtext(16, \"Light Sensor Data:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 7);\n        i0.ɵɵtext(18, \"Export to CSV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, SensordataComponent_div_19_Template, 12, 2, \"div\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 4)(21, \"div\", 5)(22, \"h1\", 6);\n        i0.ɵɵtext(23, \"Soil Moisture Data:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"button\", 7);\n        i0.ɵɵtext(25, \"Export to CSV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, SensordataComponent_div_26_Template, 12, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 5)(28, \"h1\", 6);\n        i0.ɵɵtext(29, \"Temperature Data:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 7);\n        i0.ɵɵtext(31, \"Export to CSV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(32, SensordataComponent_div_32_Template, 12, 2, \"div\", 8);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayTable);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayTable);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayTable);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayTable);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DataTableDirective, i5.NavigationComponent],\n    styles: [\"html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#234044}button#CSVButton[_ngcontent-%COMP%]{background:#6B6863;margin-left:85.5%;border-radius:131px;border-width:2px;border-top:3px solid transparent;border:3px solid transparent;width:210px;font-family:Advent Pro;font-style:normal;font-weight:400;font-size:1em;line-height:40px;text-align:center;letter-spacing:.2em;color:#e2e2d5;outline:none;text-shadow:3px 2px 2px rgba(0,0,0,.25)}button#CSVButton[_ngcontent-%COMP%]:hover{border-width:3px;background:transparent;color:#e2e2d5;border-top:3px solid #E2E2D5;border:3px solid #E2E2D5;outline:none;line-height:40px}h1.SensorDataTitles[_ngcontent-%COMP%]{margin-top:3%;margin-left:12px;font-family:Playfair Display;font-style:normal;font-weight:400;font-size:45px;line-height:120px;letter-spacing:.1em;color:#e2e2d5;text-shadow:6px 4px 4px rgba(0,0,0,.25)}#SensorTableDiv[_ngcontent-%COMP%]{background:#ebebe5;padding:20px 15px;margin:2% 10px 3%;border:5px solid #a5ae87;border-radius:7px}#SensorTable[_ngcontent-%COMP%]{padding:7px;background:#ebebe5}\"]\n  });\n  return SensordataComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}